@using System.Formats.Asn1
@using System.Reflection.Metadata
@model List<PersonVM>

@{
    Layout = "_Layout";
}

<!DOCTYPE html>

<html lang="en">
    <head>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <title>FamilyTree</title>
      <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx" crossorigin="anonymous">
    </head>
    <body>
      @using (Html.BeginForm("AddPerson", "Home", FormMethod.Post))
      {
        <div class="mb-3">
          <label for="firstName" class="form-label">First name</label>
          <input type="text" class="form-control" name="FirstName">
        </div>
        <div class="mb-3">
          <label for="lastName" class="form-label">Last name</label>
          <input type="text" class="form-control" name="LastName">
        </div>
        <div class="mb-3">
          <label for="age" class="form-label">Age</label>
          <input type="text" class="form-control" name="Age">
        </div>
        <button type="submit" class="btn btn-primary">Add</button>
      }   
      <hr/>
      <table class="table table-condensed table-striped table-bordered">
            <thead><tr><th>First name</th><th>Last name</th><th>Age</th></tr></thead>
            <tbody>
            @foreach (var person in Model)
            {
              <tr>
                <td>@person.FirstName</td>
                <td>@person.LastName</td>
                <td>@person.Age</td>
                <td>
                  <td>@Html.ActionLink("Description","Index", "Description", new {personId = person.Id},new { @class = "btn", style="background-color: rgba(52, 120, 62, 1);"})</td>
                </td>
                <td>
                  @using (Html.BeginForm("Delete", "Home",new { personId = person.Id }, FormMethod.Post))
                  {
                    <button type="submit" class="btn btn-primary">Delete</button>
                  }
                </td>
              </tr>
            }
            </tbody>
          </table>
      <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-A3rJD856KowSb7dwlZdYEkO39Gagi7vIsF0jrRAoQmDKKtQBHUuLZ9AsSv4jD4Xa" crossorigin="anonymous"></script>
    </body>
</html>